# Authentication - Authentik OIDC
# Get these values from your Authentik application configuration
AUTHENTIK_ISSUER=https://auth.nextlevelfoundry.com/application/o/outvestments/
AUTHENTIK_CLIENT_ID=your-client-id
AUTHENTIK_CLIENT_SECRET=your-client-secret

# NextAuth Configuration
# Generate a secret with: openssl rand -base64 32
AUTH_SECRET=your-auth-secret-here

# Application URL
# Development: http://localhost:3155
# Production: https://dev.outvestments.com
AUTH_URL=http://localhost:3155

# Encryption key for sensitive data (Alpaca API keys, etc.)
# Generate with: openssl rand -base64 32
ENCRYPTION_KEY=your-encryption-key-here

# Database - PostgreSQL (managed in docker-compose)
# For local development, use the container connection
DATABASE_URL=postgresql://outvestments:outvestments_dev@localhost:5432/outvestments

# For Docker/Portainer deployment, use the service name
# DATABASE_URL=postgresql://outvestments:${POSTGRES_PASSWORD}@postgres:5432/outvestments

# Alpaca Paper Trading API
# Get credentials from https://alpaca.markets/
ALPACA_API_KEY=your-alpaca-api-key
ALPACA_API_SECRET=your-alpaca-api-secret
ALPACA_BASE_URL=https://paper-api.alpaca.markets

# Market Data - Finnhub API (for symbol search)
# Get free API key from https://finnhub.io/
FINNHUB_API_KEY=your-finnhub-api-key

# Monitoring - Sentry
# Get DSN from Sentry project settings: https://sentry.io/settings/projects/{project}/keys/
SENTRY_DSN=your-sentry-dsn
NEXT_PUBLIC_SENTRY_DSN=your-sentry-dsn
# Auth token for source map uploads (optional, for better stack traces)
# Generate at: https://sentry.io/settings/auth-tokens/
# SENTRY_AUTH_TOKEN=your-sentry-auth-token

# =============================================================================
# Phase 2: Tier & Monetization Settings
# =============================================================================

# Trial Configuration
# Duration of free trial in days (0 to disable trials)
TRIAL_DURATION_DAYS=14

# Which tier users get during trial
# Options: premium, premium_plus
TRIAL_TIER=premium

# Default tier limits (can also be configured in global_config table)
# These are fallbacks if database config is not set
FREE_TIER_MAX_TARGETS=3
FREE_TIER_MAX_AIMS_PER_TARGET=5
FREE_TIER_MAX_SHOTS_PER_AIM=3
FREE_TIER_MAX_WATCHLIST=10

PREMIUM_TIER_MAX_TARGETS=25
PREMIUM_TIER_MAX_AIMS_PER_TARGET=15
PREMIUM_TIER_MAX_SHOTS_PER_AIM=10
PREMIUM_TIER_MAX_WATCHLIST=100

# Premium Plus has no limits (null/unlimited)

# =============================================================================
# Phase 4+ (Future): Stripe Payment Integration
# =============================================================================
# Uncomment when ready to implement payments

# STRIPE_PUBLIC_KEY=pk_test_...
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# Stripe Price IDs (create in Stripe Dashboard)
# STRIPE_PRICE_PREMIUM_MONTHLY=price_...
# STRIPE_PRICE_PREMIUM_ANNUAL=price_...
# STRIPE_PRICE_PLUS_MONTHLY=price_...
# STRIPE_PRICE_PLUS_ANNUAL=price_...
